{"version":3,"sources":["components/Header/Header.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.jsx","components/TodosFilter/TodosFilter.jsx","components/ToggleAll/ToggleAll.jsx","App.js","components/useLocalStorege/useLocalStorage.js","index.js"],"names":["Header","onAddTodo","useState","value","setValue","className","onSubmit","event","newTodo","id","Date","title","completed","type","placeholder","onChange","target","Todo","todo","onSwitchTodos","onDelete","onEditTodo","isEding","setIsEding","classNames","editing","checked","onDoubleClick","onClick","onKeyPress","key","editTodo","onKeyDown","TodoList","todos","map","TodosFilter","todosCompletedLength","filteredTodos","clearCompleted","href","name","e","ToggleAll","onToggleTodos","isNotCompeted","isChecked","setIsChecked","useEffect","htmlFor","App","JSON","parse","window","localStorage","getItem","state","setState","setItem","stringify","useLocalStorage","storageTodos","setStorageTodos","setTodos","filter","length","checkCompeted","isCompleted","currentTodo","checkedTodos","fielerType","filteredTodo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8e25b221.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Header = ({ onAddTodo }) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    if (value === '') {\n      return;\n    }\n\n    const newTodo = {\n      id: `${+new Date()}`,\n      title: value,\n      completed: false,\n    };\n\n    onAddTodo(newTodo);\n    setValue('');\n  };\n\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={value}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  onAddTodo: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport const Todo = ({ todo, onSwitchTodos, onDelete, onEditTodo }) => {\n  const [value, setValue] = useState(todo.title);\n  const [isEding, setIsEding] = useState(false);\n\n  const toggleTodo = () => {\n    onSwitchTodos({\n      ...todo,\n      completed: !todo.completed,\n    });\n  };\n\n  const changeTodo = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handelEdit = (event) => {\n    if (event.key === 'Enter') {\n      if (!value) {\n        setValue(todo.title);\n        setIsEding(false);\n\n        return;\n      }\n\n      const editTodo = {\n        ...todo,\n        title: value,\n      };\n\n      onEditTodo(editTodo);\n\n      setIsEding(false);\n    }\n  };\n\n  const addNotChange = (event) => {\n    if (event.key === 'Escape') {\n      setValue(todo.title);\n      setIsEding(false);\n    }\n  };\n\n  return (\n    <li className={classNames({\n      completed: todo.completed,\n      editing: isEding,\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={todo.completed}\n          onChange={toggleTodo}\n        />\n        <label\n          onDoubleClick={() => setIsEding(true)}\n        >\n          {todo.title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => onDelete(todo.id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        value={value}\n        onChange={changeTodo}\n        onKeyPress={handelEdit}\n        onKeyDown={addNotChange}\n      />\n    </li>\n  );\n};\n\nTodo.propTypes = {\n  todo: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  }).isRequired,\n  onSwitchTodos: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onEditTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Todo } from '../Todo/Todo';\n\nexport function TodoList({ todos, onSwitchTodos, onDelete, onEditTodo }) {\n  return (\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <Todo\n          key={todo.id}\n          todo={todo}\n          onSwitchTodos={onSwitchTodos}\n          onDelete={onDelete}\n          onEditTodo={onEditTodo}\n        />\n      ))}\n    </ul>\n  );\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ).isRequired,\n  onSwitchTodos: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onEditTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function TodosFilter({\n  todosCompletedLength,\n  filteredTodos,\n  clearCompleted,\n}) {\n  return (\n    <>\n      <span className=\"todo-count\">\n        {`${todosCompletedLength} items left`}\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <a\n            href=\"#/\"\n            name=\"All\"\n            className=\"selected\"\n            onClick={e => filteredTodos(e.target.name)}\n          >\n            All\n          </a>\n        </li>\n\n        <li>\n          <a\n            href=\"#/active\"\n            name=\"active\"\n            onClick={e => filteredTodos(e.target.name)}\n          >\n            Active\n          </a>\n        </li>\n\n        <li>\n          <a\n            name=\"completed\"\n            href=\"#/completed\"\n            onClick={e => filteredTodos(e.target.name)}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n\n      <button\n        type=\"button\"\n        className=\"clear-completed\"\n        onClick={clearCompleted}\n      >\n        Clear completed\n      </button>\n    </>\n  );\n}\n\nTodosFilter.propTypes = {\n  todosCompletedLength: PropTypes.number.isRequired,\n  filteredTodos: PropTypes.func.isRequired,\n  clearCompleted: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\n\nexport const ToggleAll = ({ todosCompletedLength, onToggleTodos }) => {\n  const isNotCompeted = !todosCompletedLength;\n  const [isChecked, setIsChecked] = useState(false);\n\n  useEffect(() => {\n    setIsChecked(isNotCompeted);\n  }, [isNotCompeted]);\n\n  const handleToggle = () => {\n    setIsChecked(!isChecked);\n    onToggleTodos(!isChecked);\n  };\n\n  return (\n    <>\n      <input\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        onChange={handleToggle}\n        checked={isChecked}\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n    </>\n  );\n};\n\nToggleAll.propTypes = {\n  todosCompletedLength: PropTypes.number.isRequired,\n  onToggleTodos: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { Header } from './components/Header/Header';\nimport { TodoList } from './components/TodoList/TodoList';\nimport { TodosFilter } from './components/TodosFilter/TodosFilter';\nimport { ToggleAll } from './components/ToggleAll/ToggleAll';\nimport { useLocalStorage } from './components/useLocalStorege/useLocalStorage';\n\nfunction App() {\n  const [storageTodos, setStorageTodos] = useLocalStorage('todos', []);\n  const [todos, setTodos] = useState([]);\n\n  useEffect(() => {\n    setTodos(storageTodos);\n  }, [storageTodos]);\n\n  const addTodo = (todo) => {\n    setStorageTodos([...storageTodos, todo]);\n  };\n\n  const onDelete = (id) => {\n    setStorageTodos(storageTodos.filter(todo => todo.id !== id));\n  };\n\n  const todosCompletedLength = storageTodos.filter(\n    todo => !todo.completed,\n  ).length;\n\n  const onToggleTodos = (isCompleted) => {\n    setStorageTodos(storageTodos.map(todo => ({\n      ...todo,\n      completed: isCompleted,\n    })));\n  };\n\n  const clearCompleted = () => {\n    setStorageTodos(setStorageTodos.filter(todo => !todo.completed));\n  };\n\n  const onSwitchTodos = (currentTodo) => {\n    const checkedTodos = storageTodos.map(\n      todo => ((todo.id === currentTodo.id) ? currentTodo : todo),\n    );\n\n    setStorageTodos(checkedTodos);\n  };\n\n  const filteredTodos = (fielerType) => {\n    let filteredTodo;\n\n    switch (fielerType) {\n      case 'active':\n        filteredTodo = storageTodos.filter(todo => !todo.completed);\n        break;\n      case 'completed':\n        filteredTodo = storageTodos.filter(todo => todo.completed);\n        break;\n      default:\n        filteredTodo = [...storageTodos];\n    }\n\n    setTodos(filteredTodo);\n  };\n\n  const onEditTodo = (editTodo) => {\n    setStorageTodos(storageTodos.map((todo) => {\n      if (todo.id !== editTodo.id) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        ...editTodo,\n      };\n    }));\n  };\n\n  return (\n    <section className=\"todoapp\">\n      <Header onAddTodo={addTodo} />\n      <section className=\"main\">\n        {storageTodos.length > 0 && (\n        <ToggleAll\n          checkCompeted={todosCompletedLength}\n          onToggleTodos={onToggleTodos}\n        />\n        )}\n        <TodoList\n          todos={todos}\n          onSwitchTodos={onSwitchTodos}\n          onDelete={onDelete}\n          onEditTodo={onEditTodo}\n        />\n      </section>\n      {storageTodos.length > 0\n      && (\n        <footer className=\"footer\">\n          <TodosFilter\n            checkCompeted={todosCompletedLength}\n            filteredTodos={filteredTodos}\n            clearCompleted={clearCompleted}\n          />\n        </footer>\n      )\n      }\n    </section>\n\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from 'react';\n\nexport const useLocalStorage = (key, value) => {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? value,\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n\n  return [state, setState];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}